<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Endroid OS - Windows 7 Style Browser Desktop</title>
  <meta name="description" content="Endroid OS - nostalgic Windows 7 desktop environment running in browser with classic apps and mod support." />
  <meta name="keywords" content="endroid os, windows 7 simulator, browser desktop, retro os, windows 7 online" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph -->
  <meta property="og:title" content="Endroid OS - Retro Windows 7 Experience" />
  <meta property="og:description" content="Classic Windows 7-style desktop in your browser – taskbar, start menu, apps." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yourdomain.com/" />
  <meta property="og:image" content="https://yourdomain.com/preview.jpg" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Endroid OS - Windows 7 in Browser" />
  <meta name="twitter:description" content="Nostalgic Windows 7 simulator with apps and retro UI." />
  <meta name="twitter:image" content="https://yourdomain.com/preview.jpg" />

  <link rel="icon" type="image/png" href="https://codehs.com/uploads/874a3f0402f63c983bcbf5a43a182493" />
  <link rel="stylesheet" media="screen" href="https://fontlibrary.org/en/face/pixel-operator" type="text/css"/>
  <link id="theme-css" rel="stylesheet" href="https://unpkg.com/7.css/dist/7.css" />

  <style>
    :root{--taskbar-height:36px;--aero-blue:#0078d7;--text-shadow:1px 1px 2px rgba(0,0,0,0.6)}
    @font-face{font-family:'Pixel Operator';src:url("https://fontlibrary.org/en/face/pixel-operator") format("woff2");font-display:swap}
    html,body{height:100%;margin:0;overflow:hidden;user-select:none;font-family:'Pixel Operator',monospace;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-shadow:var(--text-shadow);cursor:url('https://archive.org/download/windows7_cursors/aero-cursors/aero_arrow.cur'),default}
    body{background:#008080 url('https://4kwallpapers.com/images/wallpapers/windows-7-official-3840x2160-13944.jpg') center/cover no-repeat fixed}
    #desktop{position:relative;width:100vw;height:100vh;padding-bottom:var(--taskbar-height);perspective:1000px}
    .window{position:absolute;min-width:260px;min-height:160px;border-radius:4px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.5)}
    .window.active{outline:2px solid rgba(0,120,215,0.4)}
    .window-body{height:calc(100% - 36px);overflow:auto;background:#f0f0f0}
    .title-bar{cursor:url('https://archive.org/download/windows7_cursors/aero-cursors/aero_move.cur'),move;height:36px;line-height:36px;user-select:none}
    @keyframes win7-flap{0%{opacity:0;transform:rotateX(-60deg) scale(0.85)}60%{opacity:1;transform:rotateX(12deg) scale(1.04)}100%{opacity:1;transform:rotateX(0) scale(1)}}
    .window.opening{animation:win7-flap 280ms ease-out}
    @keyframes fadeOut{from{opacity:1}to{opacity:0}}
    .window.closing{animation:fadeOut 180ms ease-out forwards}
    #taskbar{position:fixed;left:0;right:0;bottom:0;height:var(--taskbar-height);display:flex;align-items:center;gap:8px;padding:4px 8px;background:linear-gradient(to bottom,rgba(220,236,250,0.25),rgba(160,190,230,0.45),rgba(120,160,210,0.4));border-top:1px solid rgba(0,0,0,0.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);z-index:9999;box-shadow:0 -3px 12px rgba(0,0,0,0.6);overflow-x:auto;white-space:nowrap}
    #task-buttons{flex:1;display:flex;gap:6px;overflow-x:auto;flex-shrink:1}
    #clock{margin-left:auto;padding:0 10px;color:white;text-align:right;min-width:70px;transition:filter .15s}
    #clock:hover{filter:brightness(85%)}
    #start-btn{display:flex;align-items:center;gap:6px;padding:4px 12px;height:32px;min-width:80px;background:transparent;border:none;cursor:pointer;transition:filter .2s}
    #start-btn:hover{filter:brightness(115%)}
    #start-btn-img{width:28px;height:28px;object-fit:contain}
    #start-btn-text{color:white;font-size:13px;opacity:1;visibility:visible}
    #start-menu{position:absolute;bottom:var(--taskbar-height);left:8px;width:320px;height:420px;display:none;flex-direction:row;border:2px solid #333;border-radius:6px;background:rgba(245,245,245,0.3);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:3px 4px 14px rgba(0,0,0,0.5);overflow:hidden;z-index:9998}
    #start-menu.opening{display:flex;animation:start-slide-up 260ms ease-out}
    #start-menu.closing{animation:start-slide-down 240ms ease-in forwards}
    @keyframes start-slide-up{from{transform:translateY(120%);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes start-slide-down{from{transform:translateY(0);opacity:1}to{transform:translateY(120%);opacity:0}}
    .banner{width:64px;background:linear-gradient(to bottom,rgba(0,120,215,0.4),rgba(0,90,180,0.4));color:white;font-weight:bold;font-size:52px;writing-mode:vertical-rl;text-orientation:mixed;display:flex;align-items:flex-end;justify-content:center;padding-bottom:12px;backdrop-filter:blur(6px)}
    .menu-items{flex:1;padding:10px;display:flex;flex-direction:column;gap:6px;background:rgba(255,255,255,0.35);backdrop-filter:blur(6px)}
    .menu-items button{padding:8px 12px;border:none;background:rgba(230,230,230,0.7);text-align:left;font-size:14px;border-radius:3px;cursor:pointer;transition:background .12s}
    .menu-items button:hover{background:rgba(180,210,255,0.9)}
    #context-menu{position:absolute;z-index:10000;background:rgba(245,245,245,0.95);backdrop-filter:blur(8px);border:1px solid #888;border-radius:4px;padding:4px 0;box-shadow:2px 4px 12px rgba(0,0,0,0.4);opacity:0;visibility:hidden;transform:scale(0.96);transition:all 140ms ease}
    #context-menu.show{opacity:1;visibility:visible;transform:scale(1)}
    #context-menu li{padding:6px 24px 6px 12px;cursor:pointer;white-space:nowrap}
    #context-menu li:hover{background:var(--aero-blue);color:white}
    #drag-box{position:absolute;border:1px dashed var(--aero-blue);background:rgba(0,120,215,0.18);pointer-events:none;z-index:9999;display:none}
    .shortcut{display:inline-block;width:72px;margin:6px;text-align:center;cursor:pointer}
    .shortcut img{width:48px;height:48px;image-rendering:pixelated}
    .shortcut-label{margin-top:4px;font-size:12px;color:white;word-break:break-word}
    .shortcut.selected{background:rgba(0,120,215,0.35);border-radius:4px;outline:1px solid rgba(255,255,255,0.4)}
    button,.task-button,.menu-items button,.shortcut,a{cursor:url('https://archive.org/download/windows7_cursors/aero-cursors/aero_link.cur'),pointer}
    input,textarea,select,.window-body [contenteditable]{cursor:url('https://archive.org/download/windows7_cursors/aero-cursors/aero_select.cur'),text}
    ::-webkit-scrollbar{width:10px;height:10px}
    ::-webkit-scrollbar-track{background:#e0e0e0}
    ::-webkit-scrollbar-thumb{background:linear-gradient(#c0d0e0,#90a0b8);border:1px solid #888;border-radius:4px}
    ::-webkit-scrollbar-thumb:hover{background:linear-gradient(#b0c0d8,#8090a8)}
    body.classic-theme{font-family:"MS Sans Serif",Tahoma,sans-serif;background:#008080}
    body.classic-theme #taskbar{background:#c0c0c0;border-top:2px solid white;border-left:2px solid white;border-right:2px solid #808080;border-bottom:2px solid #808080;backdrop-filter:none}
    body.classic-theme .task-button,body.classic-theme #start-btn{border:2px outset #dfdfdf;background:#c0c0c0;font-family:"MS Sans Serif",Tahoma,sans-serif}
    body.classic-theme .task-button:active,body.classic-theme #start-btn:active{border-style:inset}
    #battery-icon,#browser-shortcut-icon,#start-btn-img{transition:filter .18s}
    #battery-icon:hover,#browser-shortcut-icon:hover,#start-btn-img:hover{filter:brightness(120%)}
    .shrinking{animation:shrinkOut 220ms forwards}
    @keyframes shrinkOut{to{transform:scale(0.4);opacity:0}}
    .no-scrollbars{overflow:hidden !important}
    @media (max-width:600px){
      #start-btn{padding:4px 8px;min-width:60px}
      #start-btn-img{width:24px;height:24px}
      #start-btn-text{font-size:11px}
    }
  </style>
</head>
<body>

<div id="desktop" tabindex="0" aria-label="Desktop">
  <div class="shortcut" id="browser-shortcut" data-launch="chrome" style="display:inline-block;text-align:center;width:70px;margin:5px;cursor:default;">
    <img id="browser-shortcut-icon" src="https://codehs.com/uploads/bf7b7130c279ce42df3a72328f5bca3d" alt="Browser" title="Browse the modern web!" style="width:50px;height:50px;cursor:url('https://archive.org/download/windows7_cursors/aero-cursors/aero_arrow.cur'),default;">
    <div class="shortcut-label" style="margin-top:4px;font-size:12px;color:white;">Browser</div>
  </div>

  <div id="drag-box"></div>

  <div id="taskbar">
    <a id="start-btn" class="button" title="Click here for applications!">
      <img id="start-btn-img" src="https://codehs.com/uploads/6e7ee22c8950240a0f971178b13ef6ad" alt="Start">
      <span id="start-btn-text">Start</span>
    </a>
    <div id="task-buttons"></div>
    <div id="clock"></div>
  </div>

  <div id="start-menu">
    <div class="banner">Endroid OS
      <button title="Click to show all!" onclick="const buttonData=[{dataLaunch:'word',title:'Type whatever you like!',text:'Word'},{dataLaunch:'winamp',title:'Play your favorite music!',text:'WinAmp'},{dataLaunch:'properties',title:'Customize your desktop experience!',text:'Desktop Properties'},{dataLaunch:'welcome',title:'Welcome to Endroid OS',text:'Welcome'},{dataLaunch:'tutorial',title:'Learn about Endroid OS',text:'Tutorial'}];buttonData.forEach(data=>{var newButton=document.createElement('button');newButton.setAttribute('data-launch',data.dataLaunch);newButton.setAttribute('title',data.title);newButton.innerText=data.text;document.querySelector('.menu-items').appendChild(newButton)});this.remove();" style="transform:rotate(-90deg);width:5px;position:absolute;top:0;left:0;right:0;">All Programs</button>
      <button data-launch="cmd" title="Manage with Command Prompt!" style="transform:rotate(-90deg);width:10px;position:absolute;bottom:0;left:0;right:0;"> ⠀ ⠀Console ⠀</button>
    </div>
    <div class="menu-items">
      <button data-launch="notepad" title="Type whatever you like!">Notepad</button>
      <button data-launch="about" title="Learn about this desktop!">About</button>
      <button data-launch="chrome" title="Browse the modern web!">Browser</button>
      <button data-launch="jspaint" title="Paint whatever you like!">MS Paint</button>
      <button data-launch="cmd" title="Manage with Command Prompt!">Command Prompt</button>
      <input id="search-items" type="text" placeholder="Search programs and files" style="position:absolute;bottom:0;left:0;right:0;">
    </div>
  </div>

  <ul id="context-menu" class="menu" role="menu">
    <li role="menuitem" data-action="new" title="Create a new document!">New</li>
    <li role="menuitem" data-action="refresh" title="Refresh for better performance!">Refresh</li>
    <li role="menuitem" data-action="properties" title="Customize your desktop experience!">Properties</li>
  </ul>
</div>

<script src="os.js" defer></script>
<script src="third-parties/v86.bundle.min.mjs"></script>
<script src="modloader.js"></script>
<script>
  document.getElementById('browser-shortcut').addEventListener('dblclick', function() {
    openApp(this.dataset.launch);
    this.classList.remove('selected');
  });
</script>

</body>
</html>
